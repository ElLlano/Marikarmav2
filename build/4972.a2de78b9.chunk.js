(self.webpackChunkmarikarma_api_v_2=self.webpackChunkmarikarma_api_v_2||[]).push([[4972],{14972:(E,v,c)=>{"use strict";c.r(v),c.d(v,{ROUTES_EE:()=>l});var f=c(67294),a=c(62853),p=c(36808),d=c.n(p),C=c(86896),t=c(16550);const o=()=>{const{params:{authResponse:n}}=(0,t.$B)("/auth/login/:authResponse"),{formatMessage:r}=(0,C.Z)(),{push:e}=(0,t.k6)(),g=(0,f.useRef)(r);let i=(0,f.useCallback)(()=>{e(`/auth/oops?info=${encodeURIComponent(g.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[e]);const{get:u}=(0,a.kY)(),s=(0,f.useCallback)(async()=>{try{const h=d().get("jwtToken");if(a.I8.clearAppStorage(),h){a.I8.setToken(h,!0);const R="/admin/users/me",{data:{data:I}}=await u(R);a.I8.setUserInfo(I,!0),d().remove("jwtToken"),e("/auth/login")}}catch{i()}},[u,e,i]);return(0,f.useEffect)(()=>{n==="error"&&i(),n==="success"&&s()},[n,s,i]),f.createElement(a.dO,null)},m=null,l=[{Component:()=>({default:o}),to:"/auth/login/:authResponse",exact:!0}]},36808:(E,v,c)=>{var f,a;/*!
* JavaScript Cookie v2.2.1
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(p){var d;if(f=p,a=typeof f=="function"?f.call(v,c,v,E):f,a!==void 0&&(E.exports=a),d=!0,E.exports=p(),d=!0,!d){var C=window.Cookies,t=window.Cookies=p();t.noConflict=function(){return window.Cookies=C,t}}})(function(){function p(){for(var t=0,o={};t<arguments.length;t++){var m=arguments[t];for(var l in m)o[l]=m[l]}return o}function d(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function C(t){function o(){}function m(n,r,e){if(!(typeof document>"u")){e=p({path:"/"},o.defaults,e),typeof e.expires=="number"&&(e.expires=new Date(new Date*1+e.expires*864e5)),e.expires=e.expires?e.expires.toUTCString():"";try{var g=JSON.stringify(r);/^[\{\[]/.test(g)&&(r=g)}catch{}r=t.write?t.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var u in e)e[u]&&(i+="; "+u,e[u]!==!0&&(i+="="+e[u].split(";")[0]));return document.cookie=n+"="+r+i}}function l(n,r){if(!(typeof document>"u")){for(var e={},g=document.cookie?document.cookie.split("; "):[],i=0;i<g.length;i++){var u=g[i].split("="),s=u.slice(1).join("=");!r&&s.charAt(0)==='"'&&(s=s.slice(1,-1));try{var h=d(u[0]);if(s=(t.read||t)(s,h)||d(s),r)try{s=JSON.parse(s)}catch{}if(e[h]=s,n===h)break}catch{}}return n?e[n]:e}}return o.set=m,o.get=function(n){return l(n,!1)},o.getJSON=function(n){return l(n,!0)},o.remove=function(n,r){m(n,"",p(r,{expires:-1}))},o.defaults={},o.withConverter=C,o}return C(function(){})})}}]);
