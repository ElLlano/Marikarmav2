(self.webpackChunkmarikarma_api_v_2=self.webpackChunkmarikarma_api_v_2||[]).push([[8880],{71243:(Q,Y,t)=>{"use strict";t.d(Y,{Z:()=>Ce});var n=t(67294),z=t(16607),p=t(62853),N=t(13828),R=t(50223),K=t(60518),b=t(45742),k=t(35814),H=t(35498),pe=t(24306),q=t(78215),B=t(33936),j=t(27395),O=t(76133),ee=t(86018),W=t(43054),w=t(64816),v=t(15301),U=t(22355),te=t(91430),ne=t(45697),ae=t.n(ne),ge=t(1565);const Pe={biginteger:N.Z,blocks:R.Z,boolean:K.Z,collectionType:b.Z,component:k.Z,contentType:b.Z,date:H.Z,datetime:H.Z,decimal:N.Z,dynamiczone:pe.Z,email:q.Z,enum:B.Z,enumeration:B.Z,file:j.Z,files:j.Z,float:N.Z,integer:N.Z,json:O.Z,JSON:O.Z,media:j.Z,number:N.Z,password:ee.Z,relation:W.Z,richtext:w.Z,singleType:v.Z,string:U.Z,text:U.Z,time:H.Z,timestamp:H.Z,uid:te.Z},ue=(0,ge.default)(z.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ae=({type:Be,customField:d,...ke})=>{const Ue=(0,p.mZ)();let he=Pe[Be];if(d){const{icon:De}=Ue.get(d);De&&(he=De)}return Pe[Be]?n.createElement(ue,{height:(0,p.Q1)(24),width:(0,p.Q1)(32),shrink:0,...ke,"aria-hidden":!0},n.createElement(z.x,{as:he})):null};Ae.defaultProps={customField:null},Ae.propTypes={type:ae().string.isRequired,customField:ae().string};const Ce=Ae},25237:(Q,Y,t)=>{"use strict";t.d(Y,{c:()=>Un});var n=t(78594),z=t(61654),p=t(80278),N=t(527),R=t(97695),K=t(98),b=t(49654),k=t(99159),H=t(91797),pe=t(13588),q=t(86229),B=t(2196),j=t(42813),O=t(58929),ee=t(54359),W=t(86437),w=t(8315),v=t(45077),U=t(87605),te=t(439),ne=t(18226),ae=t(59110),ge=t(47090),Pe=t(95165),ue=t(40989),Ae=t(8158),Ce=t(88291),Be=t(46754),d=t(1578),ke=t(15971),Ue=t(64729),he=t(61511),De=t(47648),se=t(19044),Ea=t(89193),Vt=t(14544),ha=t(37373),Gt=t(34675),Ht=t(4865),I=t(63350),qt=t(24116),Xt=t(23619),Yt=t(26527),Zt=t(81851),Qt=t(24381),Jt=t(6876),wt=t(18675),s=t(54607),Ke=t(52933),en=t(18053),tn=t(16660),Ve=t(51524),nn=t(43432),an=t(25373),Ot=t(49504),Pt=t(96809),Ge=t(86569),lt=t(83098),He=t(70348),sn=t(52423),le=t(97259),on=t(46374),rn=t(45241),ln=t(24784),At=t(5702),va=t(5889),Dt=t(36544),Ma=t(46759),ct=t(76391),xt=t(9556),cn=t(64072),dt=t(58516),dn=t(69222),ut=t(68733),mt=t(75708),we=t(40519),et=t(70701),ba=t(20155),Lt=t(15116),un=t(72814),pt=t(82029),mn=t(89082),Ta=t(54192),It=t(21421),St=t(2382),pn=t(9232),gn=t(74910),Bt=t(43289),fn=t(24661),Qe=t(21761),yn=t(28102),En=t(83598),hn=t(56514),vn=t(91948),Mn=t(50841),bn=t(97653),Tn=t(85678),Cn=t(79657),Ca=t(81536),Rn=t(65715),Ra=t(83695),Zn=t(90272),Ut=t(89816),On=t(57810),tt=t(36277),nt=t(8700),gt=t(2428),Pn=t(66776),Ft=t(52374),An=t(82500),ft=t(94469),yt=t(1145),Nt=t(88499),Dn=t(12396),Wt=t(93769),Et=t(55998),xn=t(72402),ht=t(32765),Ln=t(20658),_t=t(7124),In=t(42615),vt=t(57131),Sn=t(18104),Mt=t(86026),Bn=t(98002),Kt=t(69896);const Un={alien:n.Z,apps:z.Z,archive:p.Z,arrowDown:N.Z,arrowLeft:R.Z,arrowRight:K.Z,arrowUp:b.Z,attachment:k.Z,bell:H.Z,bold:pe.Z,book:q.Z,briefcase:B.Z,brush:j.Z,bulletList:O.Z,calendar:ee.Z,car:W.Z,cast:w.Z,chartBubble:v.Z,chartCircle:U.Z,chartPie:te.Z,check:ne.Z,clock:ae.Z,cloud:ge.Z,code:Pe.Z,cog:ue.Z,collapse:Ae.Z,command:Ce.Z,connector:Be.Z,crop:d.Z,crown:ke.Z,cube:Ue.Z,cup:he.Z,cursor:De.Z,dashboard:se.Z,database:Ea.Z,discuss:Vt.Z,doctor:ha.Z,earth:Gt.Z,emotionHappy:Ht.Z,emotionUnhappy:I.Z,envelop:qt.Z,exit:Xt.Z,expand:Yt.Z,eye:Zt.Z,feather:Qt.Z,file:Jt.Z,fileError:wt.Z,filePdf:s.Z,filter:Ke.Z,folder:en.Z,gate:tn.Z,gift:Ve.Z,globe:nn.Z,grid:an.Z,handHeart:Ot.Z,hashtag:Pt.Z,headphone:Ge.Z,heart:lt.Z,house:He.Z,information:sn.Z,italic:le.Z,key:on.Z,landscape:rn.Z,layer:ln.Z,layout:At.Z,lightbulb:va.Z,link:Dt.Z,lock:Ma.Z,magic:ct.Z,manyToMany:xt.Z,manyToOne:cn.Z,manyWays:dt.Z,medium:dn.Z,message:ut.Z,microphone:mt.Z,monitor:we.Z,moon:et.Z,music:ba.Z,oneToMany:Lt.Z,oneToOne:un.Z,oneWay:pt.Z,paint:mn.Z,paintBrush:Ta.Z,paperPlane:It.Z,pencil:St.Z,phone:pn.Z,picture:gn.Z,pin:Bt.Z,pinMap:fn.Z,plane:Qe.Z,play:yn.Z,plus:En.Z,priceTag:hn.Z,puzzle:vn.Z,question:Mn.Z,quote:bn.Z,repeat:Tn.Z,restaurant:Cn.Z,rocket:Ca.Z,rotate:Rn.Z,scissors:Ra.Z,search:Zn.Z,seed:Ut.Z,server:On.Z,shield:tt.Z,shirt:nt.Z,shoppingCart:gt.Z,slideshow:Pn.Z,stack:Ft.Z,star:An.Z,store:ft.Z,strikeThrough:yt.Z,sun:Nt.Z,television:Dn.Z,thumbDown:Wt.Z,thumbUp:Et.Z,train:xn.Z,twitter:ht.Z,typhoon:Ln.Z,underline:_t.Z,user:In.Z,volumeMute:vt.Z,volumeUp:Sn.Z,walk:Mt.Z,wheelchair:Bn.Z,write:Kt.Z}},30248:(Q,Y,t)=>{"use strict";t.d(Y,{Z:()=>p});var n=t(67294);const p=(0,n.createContext)()},6356:(Q,Y,t)=>{"use strict";t.d(Y,{Z:()=>p});var n=t(67294);const p=(0,n.createContext)()},27523:(Q,Y,t)=>{"use strict";t.d(Y,{Z:()=>N});var n=t(67294),z=t(30248);const N=()=>(0,n.useContext)(z.Z)},47558:(Q,Y,t)=>{"use strict";t.d(Y,{Z:()=>N});var n=t(67294),z=t(6356);const N=()=>(0,n.useContext)(z.Z)},60347:(Q,Y,t)=>{"use strict";t.r(Y),t.d(Y,{default:()=>Go});var n=t(67294),z=t(71590),p=t(62853),N=t(64593),R=t(86896),K=t(16550),b=t(16607),k=t(58753),H=t(85200),pe=t(56233),q=t(71603),B=t(61499),j=t(21660),O=t(85893),ee=t(58471),W=t(1565),w=t(92058),v=t(96987),U=t(10574);const te=(0,W.default)(b.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,ne=W.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,ae=W.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,ge=({label:e,children:a,id:o})=>{const[i,r]=(0,n.useState)(!0),c=(0,w.M)(o),l=()=>{r(u=>!u)};return(0,O.jsxs)(b.x,{children:[(0,O.jsx)(te,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,O.jsx)(v.k,{justifyContent:"space-between",children:(0,O.jsxs)(ne,{onClick:l,"aria-expanded":i,"aria-controls":c,children:[(0,O.jsx)(ae,{rotated:i,children:(0,O.jsx)(ee.Z,{"aria-hidden":!0})}),(0,O.jsx)(b.x,{paddingLeft:2,children:(0,O.jsx)(U.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),i&&(0,O.jsx)("ul",{id:c,children:n.Children.map(a,(u,m)=>(0,O.jsx)("li",{children:u},m))})]})};var Pe=t(36636),ue=t(83598),Ae=t(11700),Ce=t.n(Ae),Be=t(73727),d=t(90635),ke=t(18446),Ue=t.n(ke),he=t(27523),De=t(47558),se=t(72966);const Vt=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:i,sortedContentTypesList:r,modifiedData:c,initialData:l}=(0,he.Z)(),u=(0,p.lm)(),{trackUsage:m}=(0,p.rS)(),[y,f]=(0,n.useState)(""),{onOpenModalCreateSchema:g,onOpenModalEditCategory:P}=(0,De.Z)(),{locale:Z}=(0,R.Z)(),{startsWith:T}=(0,p.L0)(Z,{sensitivity:"base"}),x=(0,p.Xe)(Z,{sensitivity:"base"}),_=!Object.keys(o).some(V=>o[V].isTemporary===!0)&&!Object.keys(e).some(V=>e[V].isTemporary===!0)&&Ue()(c,l),C=()=>{_?(m("willCreateContentType"),g({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):$()},S=()=>{_?(m("willCreateSingleType"),g({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):$()},F=()=>{_?(m("willCreateComponent"),g({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):$()},$=()=>{u({type:"info",message:{id:(0,d.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},re=Object.entries(a).map(([V,be])=>({name:V,title:V,isEditable:i,onClickEdit(ie,Le){ie.stopPropagation(),_?P(Le.name):$()},links:be.map(ie=>({name:ie.uid,to:`/plugins/${se.Z}/component-categories/${V}/${ie.uid}`,title:ie.schema.displayName})).sort((ie,Le)=>x.compare(ie.title,Le.title))})).sort((V,be)=>x.compare(V.title,be.title)),Me=r.filter(V=>V.visible);return{menu:[{name:"models",title:{id:`${(0,d.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,d.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:C},links:Me.filter(V=>V.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,d.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:S},links:Me.filter(V=>V.kind==="singleType")},{name:"components",title:{id:`${(0,d.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,d.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:F},links:re}].map(V=>V.links.some(ie=>Array.isArray(ie.links))?{...V,links:V.links.map(ie=>{const Le=ie.links.filter(me=>T(me.title,y));return Le.length===0?null:{...ie,links:Le.sort((me,de)=>x.compare(me.title,de.title))}}).filter(Boolean)}:{...V,links:V.links.filter(ie=>T(ie.title,y)).sort((ie,Le)=>x.compare(ie.title,Le.title))}),searchValue:y,onSearchChange:f}},Gt=()=>{const{menu:e,searchValue:a,onSearchChange:o}=Vt(),{formatMessage:i}=(0,R.Z)();return n.createElement(pe.m,{ariaLabel:i({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},n.createElement(q.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:r=>o(r.target.value),label:i({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),n.createElement(B.Z,null,e.map(r=>n.createElement(n.Fragment,{key:r.name},n.createElement(j.D,{label:i({id:r.title.id,defaultMessage:r.title.defaultMessage}),collapsable:!0,badgeLabel:r.links.length.toString()},r.links.map(c=>c.links?n.createElement(ge,{key:c.name,label:Ce()(c.title)},c.links.map(l=>n.createElement(Pe.E,{as:Be.OL,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},Ce()(i({id:l.name,defaultMessage:l.title}))))):n.createElement(Pe.E,{as:Be.OL,to:c.to,active:c.active,key:c.name},Ce()(i({id:c.name,defaultMessage:c.title}))))),r.customLink&&n.createElement(b.x,{paddingLeft:7},n.createElement(k.A,{onClick:r.customLink.onClick,startIcon:n.createElement(H.J,{as:ue.Z,width:(0,p.Q1)(8),height:(0,p.Q1)(8)}),marginTop:2},i({id:r.customLink.id,defaultMessage:r.customLink.defaultMessage})))))))};var Ht=t(27361),I=t.n(Ht),qt=t(7739),Xt=t.n(qt),Yt=t(36968),Zt=t.n(Yt),Qt=t(84238),Jt=t.n(Qt),wt=t(45697),s=t.n(wt),Ke=t(86706),en=t(14890),tn=t(30248),Ve=t(12670),nn=t(43007),an=t(74622),Ot=t(71543),Pt=t(98948),Ge=t(91788),lt=t(26910),He=t(94955),sn=t(37022),le=t(12473),on=t(18721),rn=t.n(on),ln=t(7334),At=t.n(ln);const Dt=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),ct=(e,a)=>e.find(({name:o})=>o===a);var xt=t(13814);const cn=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],dt=({intlLabel:e,name:a,onChange:o,value:i})=>{const{formatMessage:r}=(0,R.Z)(),c=i===null||i.length===0?r({id:"global.none",defaultMessage:"None"}):[...i].sort().map(u=>Ce()(u)).join(", "),l=e.id?r({id:e.id,defaultMessage:e.defaultMessage}):a;return n.createElement(xt.Q,{id:"select1",label:l,customizeContent:()=>c,onChange:u=>{u.length>0?o({target:{name:a,value:u,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:cn,value:i||[]})};dt.defaultProps={value:null},dt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().object,s().array])};const dn=dt;var ut=t(52953),mt=t(31988),we=t(6498),et=t(71243);const Lt=(0,W.default)(b.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,un=(0,W.default)(b.x)`
  background-color: ${({theme:e})=>e.colors.secondary100};
  border: ${({theme:e})=>`1px solid ${e.colors.secondary200}`};
  border-radius: ${({theme:e})=>e.borderRadius};
  font-size: ${({theme:e})=>e.fontSizes[0]};
  padding: ${({theme:e})=>`${2/16}rem ${e.spaces[1]}`};
`,pt=({type:e})=>{const{formatMessage:a}=(0,R.Z)(),{onClickSelectField:o}=(0,De.Z)(),i=()=>{o({attributeType:e,step:e==="component"?"1":null})};return n.createElement(Lt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},n.createElement(v.k,null,n.createElement(et.Z,{type:e}),n.createElement(b.x,{paddingLeft:4,width:"100%"},n.createElement(v.k,{justifyContent:"space-between"},n.createElement(U.Z,{fontWeight:"bold"},a({id:(0,d.Z)(`attribute.${e}`),defaultMessage:e})),e==="blocks"&&n.createElement(un,null,n.createElement(U.Z,{textColor:"secondary600",variant:"sigma"},"BETA"))),n.createElement(v.k,null,n.createElement(U.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,d.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};pt.defaultProps={type:"text"},pt.propTypes={type:s().string};const mn=pt,It=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},St=({attributes:e})=>n.createElement(ut.k,{tagName:"button"},n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:8},e.map((a,o)=>n.createElement(mt.r,{key:o,gap:0},a.map((i,r)=>{const{paddingLeft:c,paddingRight:l}=It(r);return n.createElement(we.P,{key:i,col:6},n.createElement(b.x,{paddingLeft:c,paddingRight:l,paddingBottom:1,style:{height:"100%"}},n.createElement(mn,{type:i})))})))));St.propTypes={attributes:s().array.isRequired};const pn=St;var gn=t(29824);const Bt=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:i,intlDescription:r}=a,{formatMessage:c}=(0,R.Z)(),{onClickSelectCustomField:l}=(0,De.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return n.createElement(Lt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},n.createElement(v.k,null,n.createElement(et.Z,{type:o,customField:e}),n.createElement(b.x,{paddingLeft:4},n.createElement(v.k,null,n.createElement(U.Z,{fontWeight:"bold"},c(i))),n.createElement(v.k,null,n.createElement(U.Z,{variant:"pi",textColor:"neutral600"},c(r))))))};Bt.propTypes={customFieldUid:s().string.isRequired,customField:s().shape({type:s().string.isRequired,icon:s().func,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,intlDescription:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired}).isRequired};const fn=Bt;var Qe=t(62485),yn=t(20501);const En=(0,W.default)(yn.G)`
  &[aria-disabled='true'] {
    ${Qe.sg}
    &:active {
      ${Qe.sg}
    }
  }
  &:hover {
    ${Qe.yP}
  }
  &:active {
    ${Qe.tB}
  }
  ${Qe.PD}
`,hn=n.forwardRef(({variant:e="default",startIcon:a,endIcon:o,disabled:i=!1,children:r,size:c="S",href:l,to:u,...m},y)=>{const f=l?"_blank":void 0,g=l?"noreferrer noopener":void 0,P=c==="S"?2:"10px",Z=4;return(0,O.jsxs)(En,{ref:y,"aria-disabled":i,size:c,variant:e,target:f,rel:g,to:i?void 0:u,href:i?"#":l,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:P,paddingLeft:Z,paddingRight:Z,paddingTop:P,pointerEvents:i?"none":void 0,...m,as:u&&!i?Be.OL:"a",children:[a&&(0,O.jsx)(v.k,{"aria-hidden":!0,children:a}),(0,O.jsx)(U.Z,{variant:c==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:r}),o&&(0,O.jsx)(v.k,{"aria-hidden":!0,children:o})]})});var vn=t(94355),Mn=t(80129),bn=t.n(Mn);const Tn=(0,W.default)(b.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Cn=()=>n.createElement(v.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>n.createElement(Tn,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),Rn=()=>{const{formatMessage:e}=(0,R.Z)();return n.createElement(b.x,{position:"relative"},n.createElement(Cn,null),n.createElement(b.x,{position:"absolute",top:6,width:"100%"},n.createElement(v.k,{alignItems:"center",justifyContent:"center",direction:"column"},n.createElement(H.J,{as:vn.Z,color:"",width:"160px",height:"88px"}),n.createElement(b.x,{paddingTop:6,paddingBottom:4},n.createElement(b.x,{textAlign:"center"},n.createElement(U.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),n.createElement(b.x,{paddingTop:4},n.createElement(U.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),n.createElement(hn,{to:`/marketplace?${bn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:n.createElement(ue.Z,null)},e({id:(0,d.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Zn=()=>{const{formatMessage:e}=(0,R.Z)(),a=(0,p.mZ)(),o=Object.entries(a.getAll());if(!o.length)return n.createElement(Rn,null);const i=o.sort((r,c)=>r[1].name>c[1].name?1:-1);return n.createElement(ut.k,{tagName:"button"},n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:3},n.createElement(mt.r,{gap:0},i.map(([r,c],l)=>{const{paddingLeft:u,paddingRight:m}=It(l);return n.createElement(we.P,{key:r,col:6,style:{height:"100%"}},n.createElement(b.x,{paddingLeft:u,paddingRight:m,paddingBottom:1,style:{height:"100%"}},n.createElement(fn,{key:r,customFieldUid:r,customField:c})))})),n.createElement(gn.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,d.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Ut=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:i}=(0,R.Z)(),r=(0,d.Z)("modalForm.tabs.default"),c=(0,d.Z)("modalForm.tabs.custom"),l=a.includes("component")?"component":o,u=(0,d.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return n.createElement(Ot.f,{padding:6},n.createElement(Pt.v,{label:i({id:(0,d.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},n.createElement(v.k,{justifyContent:"space-between"},n.createElement(U.Z,{variant:"beta",as:"h2"},i({id:u,defaultMessage:"Select a field"})),n.createElement(Ge.m,null,n.createElement(Ge.O,null,i({id:r,defaultMessage:"Default"})),n.createElement(Ge.O,null,i({id:c,defaultMessage:"Custom"})))),n.createElement(b.x,{paddingBottom:6},n.createElement(lt.i,null)),n.createElement(He.n,null,n.createElement(He.x,null,n.createElement(pn,{attributes:e})),n.createElement(He.x,null,n.createElement(Zn,null)))))};Ut.propTypes={attributes:s().array.isRequired,forTarget:s().string.isRequired,kind:s().string.isRequired};const On=Ut;var tt=t(59586),nt=t(40933);const gt=({intlLabel:e,name:a,options:o,onChange:i,value:r})=>{const{formatMessage:c}=(0,R.Z)(),l=e.id?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,u=m=>{let y="";m==="true"&&(y=!0),m==="false"&&(y=!1),i({target:{name:a,value:y,type:"select-default-boolean"}})};return n.createElement(tt.P,{label:l,id:a,name:a,onChange:u,value:(r===null?"":r).toString()},o.map(({metadatas:{intlLabel:m,disabled:y,hidden:f},key:g,value:P})=>n.createElement(nt.W,{key:g,value:P,disabled:y,hidden:f},m.defaultMessage)))};gt.defaultProps={value:null},gt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().any};const Pn=gt;var Ft=t(66362);const An=(0,W.default)(v.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Ft.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${U.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,ft=({intlLabel:e,name:a,onChange:o,radios:i,value:r})=>{const{formatMessage:c}=(0,R.Z)();return n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(U.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},c(e)),n.createElement(An,{gap:4,alignItems:"stretch"},i.map(l=>n.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},n.createElement("input",{id:l.value.toString(),name:a,className:"option-input",checked:l.value===r,value:l.value,key:l.value,onChange:o,type:"radio"}),n.createElement(b.x,{className:"option",padding:4},n.createElement(v.k,null,n.createElement(b.x,{paddingRight:4},n.createElement("span",{className:"checkmark"})),n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(U.Z,{fontWeight:"bold"},c(l.title)),n.createElement(U.Z,{variant:"pi",textColor:"neutral600"},c(l.description)))))))))};ft.defaultProps={radios:[]},ft.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,radios:s().arrayOf(s().shape({title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),value:s().any.isRequired})),value:s().oneOfType([s().string,s().bool]).isRequired};const yt=ft,Nt=({onChange:e,name:a,...o})=>{const i=r=>{const c=r.target.value!=="false";e({target:{name:a,value:c,type:"boolean-radio-group"}})};return n.createElement(yt,{...o,name:a,onChange:i})};Nt.propTypes={name:s().string.isRequired,onChange:s().func.isRequired};const Dn=Nt;var Wt=t(22546),Et=t(38670),xn=t(80167);const ht=({error:e,intlLabel:a,modifiedData:o,name:i,onChange:r,value:c})=>{const{formatMessage:l}=(0,R.Z)(),[u,m]=(0,n.useState)(!!c||c===0),y=a.id?l({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):i,f=o.type==="biginteger"?"text":"number",g=!o.type,P=e?l({id:e,defaultMessage:e}):"";return n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(Wt.X,{id:i,name:i,onValueChange:Z=>{r({target:{name:i,value:Z?f==="text"?"0":0:null}}),m(_=>!_)},value:u},y),u&&n.createElement(b.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?n.createElement(Et.o,{"aria-label":y,disabled:g,error:P,id:i,name:i,onChange:r,value:c===null?"":c}):n.createElement(xn.Y,{"aria-label":y,disabled:g,error:P,id:i,name:i,onValueChange:Z=>{r({target:{name:i,value:Z,type:f}})},value:c||0})))};ht.defaultProps={error:null,value:null},ht.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().string,s().object,s().bool,s().number])};const Ln=ht,_t=({onChange:e,...a})=>{const o=(0,p.lm)(),i=r=>{o({type:"info",message:{id:(0,d.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(r)};return n.createElement(yt,{...a,onChange:i})};_t.propTypes={onChange:s().func.isRequired};const In=_t,vt=({description:e,disabled:a,intlLabel:o,isCreating:i,name:r,onChange:c,value:l})=>{const{formatMessage:u}=(0,R.Z)(),[m,y]=(0,n.useState)(!1),f=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):r,g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",P=()=>y(x=>!x),Z=()=>{c({target:{name:r,value:!1}}),P()},T=({target:{checked:x}})=>{if(!x&&!i){P();return}c({target:{name:r,value:x}})};return n.createElement(n.Fragment,null,n.createElement(Wt.X,{checked:l,disabled:a,hint:g,name:r,onChange:T},f),n.createElement(p.QH,{isOpen:m,onToggleDialog:P,onConfirm:Z,bodyText:{id:(0,d.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,d.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};vt.defaultProps={description:null,disabled:!1,value:!1},vt.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isCreating:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().bool};const Sn=vt,Mt=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:i,isAttributeModal:r,isCustomFieldModal:c,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:m,isCreatingComponent:y,isCreatingComponentAttribute:f,isCreatingComponentInDz:g,isCreatingComponentWhileAddingAField:P,isCreatingContentType:Z,isCreatingDz:T,isComponentModal:x,isDzAttribute:_,isEditingAttribute:C,isEditingCategory:S,isInFirstComponentStep:F,onSubmitAddComponentAttribute:$,onSubmitAddComponentToDz:re,onSubmitCreateContentType:Me,onSubmitCreateComponent:xe,onSubmitCreateDz:V,onSubmitEditAttribute:be,onSubmitEditCategory:ie,onSubmitEditComponent:Le,onSubmitEditContentType:me,onSubmitEditCustomFieldAttribute:de,onSubmitEditDz:$e,onClickFinish:Te})=>{const{formatMessage:oe}=(0,R.Z)();return u?g?n.createElement(le.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),re(A,!0)},startIcon:n.createElement(ue.Z,null)},oe({id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):n.createElement(le.z,{variant:"default",type:"submit",onClick:A=>{A.preventDefault(),re(A,!1)}},oe({id:"global.finish",defaultMessage:"Finish"})):r&&_&&!T?n.createElement(le.z,{variant:"default",type:"submit",onClick:A=>{A.preventDefault(),Te(),$e(A,!1)}},oe({id:"global.finish",defaultMessage:"Finish"})):r&&_&&T?n.createElement(n.Fragment,null,n.createElement(le.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),V(A,!0)},startIcon:n.createElement(ue.Z,null)},oe({id:(0,d.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):r&&l?F?n.createElement(le.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),$(A,!0)}},oe(f?{id:(0,d.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):n.createElement(n.Fragment,null,n.createElement(le.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),$(A,!0)},startIcon:n.createElement(ue.Z,null)},oe(P?{id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(le.z,{variant:"default",type:"button",onClick:A=>{A.preventDefault(),Te(),$(A,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):r&&!l&&!_?n.createElement(n.Fragment,null,n.createElement(le.z,{type:C?"button":"submit",variant:"secondary",onClick:A=>{A.preventDefault(),be(A,!0)},startIcon:n.createElement(ue.Z,null)},oe({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(le.z,{type:C?"submit":"button",variant:"default",onClick:A=>{A.preventDefault(),Te(),be(A,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):m?n.createElement(n.Fragment,null,!Z&&n.createElement(n.Fragment,null,n.createElement(le.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),i()}},oe({id:"global.delete",defaultMessage:"Delete"})),n.createElement(le.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),me(A,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))),Z&&n.createElement(le.z,{type:"submit",variant:"secondary",onClick:A=>{A.preventDefault(),Me(A,!0)}},oe({id:"global.continue",defaultMessage:"Continue"}))):x?n.createElement(n.Fragment,null,!y&&n.createElement(n.Fragment,null,n.createElement(le.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),o()}},oe({id:"global.delete",defaultMessage:"Delete"})),n.createElement(le.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),Le(A,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))),y&&n.createElement(le.z,{type:"submit",variant:"secondary",onClick:A=>{A.preventDefault(),xe(A,!0)}},oe({id:"global.continue",defaultMessage:"Continue"}))):S?n.createElement(n.Fragment,null,n.createElement(le.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),a(e)}},oe({id:"global.delete",defaultMessage:"Delete"})),n.createElement(le.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),ie(A)}},oe({id:"global.finish",defaultMessage:"finish"}))):c?n.createElement(n.Fragment,null,n.createElement(le.z,{type:C?"button":"submit",variant:"secondary",onClick:A=>{A.preventDefault(),de(A,!0)},startIcon:n.createElement(ue.Z,null)},oe({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(le.z,{type:C?"submit":"button",variant:"default",onClick:A=>{A.preventDefault(),Te(),de(A,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):null};Mt.defaultProps={categoryName:null,onClickFinish(){}},Mt.propTypes={categoryName:s().string,deleteCategory:s().func.isRequired,deleteComponent:s().func.isRequired,deleteContentType:s().func.isRequired,isAttributeModal:s().bool.isRequired,isCustomFieldModal:s().bool.isRequired,isComponentAttribute:s().bool.isRequired,isComponentModal:s().bool.isRequired,isComponentToDzModal:s().bool.isRequired,isContentTypeModal:s().bool.isRequired,isCreatingComponent:s().bool.isRequired,isCreatingComponentAttribute:s().bool.isRequired,isCreatingComponentInDz:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,isCreatingContentType:s().bool.isRequired,isCreatingDz:s().bool.isRequired,isDzAttribute:s().bool.isRequired,isEditingAttribute:s().bool.isRequired,isEditingCategory:s().bool.isRequired,isInFirstComponentStep:s().bool.isRequired,onSubmitAddComponentAttribute:s().func.isRequired,onSubmitAddComponentToDz:s().func.isRequired,onSubmitCreateContentType:s().func.isRequired,onSubmitCreateComponent:s().func.isRequired,onSubmitCreateDz:s().func.isRequired,onSubmitEditAttribute:s().func.isRequired,onSubmitEditCategory:s().func.isRequired,onSubmitEditComponent:s().func.isRequired,onSubmitEditContentType:s().func.isRequired,onSubmitEditCustomFieldAttribute:s().func.isRequired,onSubmitEditDz:s().func.isRequired,onClickFinish:s().func};const Bn=Mt;var Kt=t(36854),Un=t(82392),ds=t(75071),us=t(97695);const Fn=({actionType:e,attributeName:a,attributeType:o,categoryName:i,contentTypeKind:r,dynamicZoneTarget:c,forTarget:l,modalType:u,targetUid:m,customFieldUid:y,showBackLink:f})=>{const{formatMessage:g}=(0,R.Z)(),{modifiedData:P}=(0,he.Z)(),{onOpenModalAddField:Z}=(0,De.Z)();let T,x=[];const _=P?.[l]?.[m]||P?.[l]||null;let C=_?.schema.displayName;if(u==="contentType"&&(T=r),["component","editCategory"].includes(u)&&(T="component"),["component","contentType"].includes(u)){let F=(0,d.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(F=(0,d.Z)(`modalForm.${r}.header-create`)),e==="edit"&&(F=(0,d.Z)("modalForm.header-edit")),n.createElement(Kt.x,null,n.createElement(v.k,null,n.createElement(b.x,null,n.createElement(et.Z,{type:T})),n.createElement(b.x,{paddingLeft:3},n.createElement(U.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:F},{name:C})))))}return x=[{label:C,info:{category:_?.category||null,name:_?.schema.displayName}}],u==="chooseAttribute"&&(T=["component","components"].includes(l)?"component":_.schema.kind),u==="addComponentToDynamicZone"&&(T="dynamiczone",x.push({label:c})),(u==="attribute"||u==="customField")&&(T=o,x.push({label:a})),u==="editCategory"&&(x=[{label:g({id:(0,d.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]),n.createElement(Kt.x,null,n.createElement(v.k,{gap:3},f&&n.createElement(p.rU,{"aria-label":g({id:(0,d.Z)("modalForm.header.back"),defaultMessage:"Back"}),startIcon:n.createElement(us.Z,null),onClick:()=>Z({forTarget:l,targetUid:m}),to:"#back"}),n.createElement(et.Z,{type:T,customField:y}),n.createElement(Un.O,{label:x.map(({label:F})=>F).join(",")},x.map(({label:F,info:$},re,Me)=>{if(F=Ce()(F),!F)return null;const xe=`${F}.${re}`;return $?.category&&(F=`${F} (${Ce()($.category)} - ${Ce()($.name)})`),n.createElement(ds.$,{isCurrent:re===Me.length-1,key:xe},F)}))))};Fn.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},Fn.propTypes={actionType:s().string,attributeName:s().string,attributeType:s().string,categoryName:s().string,contentTypeKind:s().string,dynamicZoneTarget:s().string,forTarget:s().oneOf(["contentType","component","components"]),modalType:s().string.isRequired,targetUid:s().string,customFieldUid:s().string,showBackLink:s().bool};const ms=Fn,ps=({modalType:e,forTarget:a,kind:o,actionType:i,step:r})=>{switch(e){case"chooseAttribute":return(0,d.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,d.Z)(`modalForm.sub-header.attribute.${i}${r!=="null"&&r!==null&&i!=="edit"?".step":""}`);case"customField":return(0,d.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,d.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.Z)("configurations")}},Nn=({actionType:e,modalType:a,forTarget:o,kind:i,step:r,attributeType:c,attributeName:l,customField:u})=>{const{formatMessage:m}=(0,R.Z)(),y=a==="customField"?u.intlLabel:{id:(0,d.Z)(`attribute.${c}`)};return n.createElement(v.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},n.createElement(U.Z,{as:"h2",variant:"beta"},m({id:ps({actionType:e,forTarget:o,kind:i,step:r,modalType:a}),defaultMessage:"Add new field"},{type:Ce()(m(y)),name:Ce()(l),step:r})),n.createElement(U.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,d.Z)(`attribute.${c}.description`),defaultMessage:"A type for modeling data"})))};Nn.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Nn.propTypes={actionType:s().string,modalType:s().string,forTarget:s().string,kind:s().string,step:s().string,attributeType:s().string,attributeName:s().string,customField:s().object};const gs=Nn;var fs=t(78048),ys=t(17734),Es=t(22304),hs=t(45094),vs=t(35987),Za=t(96208),Ms=t(81315),bs=t(90272),Ts=t(54425),Oa=t(25237);const Cs=(0,W.default)(v.k)`
  label {
    ${Ft.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Pa=({iconKey:e,name:a,onChange:o,isSelected:i,ariaLabel:r})=>n.createElement(fs.g,{name:a,required:!1},n.createElement(ys.Q,{htmlFor:e,id:`${e}-label`},n.createElement(Es.T,null,n.createElement(hs._,{type:"radio",id:e,name:a,checked:i,onChange:o,value:e,"aria-checked":i,"aria-labelledby":`${e}-label`}),r),n.createElement(v.k,{padding:2,cursor:"pointer",hasRadius:!0,background:i&&"primary200"},n.createElement(H.J,{as:Oa.c[e],color:i?"primary600":"neutral300"}))));Pa.propTypes={iconKey:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,isSelected:s().bool.isRequired,ariaLabel:s().string.isRequired};const Wn=({intlLabel:e,name:a,onChange:o,value:i})=>{const{formatMessage:r}=(0,R.Z)(),[c,l]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),y=Object.keys(Oa.c),[f,g]=(0,n.useState)(y),P=(0,n.useRef)(null),Z=(0,n.useRef)(null),T=()=>{l(!c)},x=({target:{value:S}})=>{m(S),g(()=>y.filter(F=>F.toLowerCase().includes(S.toLowerCase())))},_=()=>{T(),m(""),g(y)},C=()=>{o({target:{name:a,value:""}})};return(0,n.useEffect)(()=>{c&&Z.current.focus()},[c]),n.createElement(n.Fragment,null,n.createElement(v.k,{justifyContent:"space-between",paddingBottom:2},n.createElement(U.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},r(e)),n.createElement(v.k,{gap:1},c?n.createElement(vs.w,{ref:Z,name:"searchbar",size:"S",placeholder:r({id:(0,d.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||T()},onChange:x,value:u,onClear:_,clearLabel:r({id:(0,d.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},r({id:(0,d.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):n.createElement(Za.h,{ref:P,onClick:T,"aria-label":r({id:(0,d.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:n.createElement(bs.Z,null),noBorder:!0}),i&&n.createElement(Ms.u,{description:r({id:(0,d.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},n.createElement(Za.h,{onClick:C,"aria-label":r({id:(0,d.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:n.createElement(Ts.Z,null),noBorder:!0})))),n.createElement(Cs,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},f.length>0?f.map(S=>n.createElement(Pa,{key:S,iconKey:S,name:a,onChange:o,isSelected:S===i,ariaLabel:r({id:(0,d.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:S})})):n.createElement(b.x,{padding:4,grow:2},n.createElement(U.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},r({id:(0,d.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Wn.defaultProps={value:""},Wn.propTypes={intlLabel:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Rs=Wn;var Zs=t(23450),_n=t.n(Zs),Aa=t(50478);const Kn=({description:e,error:a,intlLabel:o,modifiedData:i,name:r,onChange:c,value:l})=>{const{formatMessage:u}=(0,R.Z)(),m=(0,n.useRef)(c),y=i?.displayName||"";(0,n.useEffect)(()=>{if(y){const Z=(0,Aa.Z)(y);try{const T=_n()(Z,2);m.current({target:{name:r,value:T}})}catch{m.current({target:{name:r,value:Z}})}}else m.current({target:{name:r,value:""}})},[y,r]);const f=a?u({id:a,defaultMessage:a}):"",g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",P=u(o);return n.createElement(Et.o,{error:f,label:P,id:r,hint:g,name:r,onChange:c,value:l||""})};Kn.defaultProps={description:null,error:null,value:null},Kn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Os=Kn;var $n=t(82534),$t=t(40563),ce=t(28861);const jn=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:i}=(0,he.Z)(),r=(0,Ke.I0)(),c=i.filter(Dt),{plugin:l=null,schema:{displayName:u}={displayName:"error"}}=o?.[a]??{},m=({uid:y,plugin:f,title:g,restrictRelationsTo:P})=>()=>{const Z=f?`${f}_${g}`:g;r({type:ce.aG,target:{value:y,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:Z,targetContentTypeAllowedRelations:P}})};return n.createElement($t.fC,null,n.createElement(Ps,null,`${u} ${l?`(from: ${l})`:""}`),n.createElement($t.VY,{zIndex:5},c.map(({uid:y,title:f,restrictRelationsTo:g,plugin:P})=>n.createElement($t.ck,{key:y,onSelect:m({uid:y,plugin:P,title:f,restrictRelationsTo:g})},f,"\xA0",P&&n.createElement(n.Fragment,null,"(from: ",P,")")))))};jn.defaultProps={target:null},jn.propTypes={oneThatIsCreatingARelationWithAnother:s().string.isRequired,target:s().string};const Ps=(0,W.default)($t.xz)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,As=jn,zn=({disabled:e,error:a,header:o,isMain:i,name:r,onChange:c,oneThatIsCreatingARelationWithAnother:l,target:u,value:m})=>n.createElement(b.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},n.createElement(v.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?n.createElement(U.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):n.createElement(As,{target:u,oneThatIsCreatingARelationWithAnother:l})),n.createElement(lt.i,{background:"neutral200"}),n.createElement(b.x,{padding:4},n.createElement(p.jm,{disabled:e,error:a?.id||null,intlLabel:{id:(0,d.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:r,onChange:c,type:"text",value:m})));zn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},zn.propTypes={disabled:s().bool,error:s().object,header:s().string,isMain:s().bool,name:s().string.isRequired,onChange:s().func,oneThatIsCreatingARelationWithAnother:s().string,target:s().string,value:s().string};const Da=zn;var Ds=t(82029),xs=t(72814),Ls=t(15116),Is=t(64072),Ss=t(9556),Bs=t(58516),Us=t(39138),xa=t.n(Us);const Fs=(0,W.default)(b.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Ns=(0,W.default)(b.x)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Ws=(0,W.default)(v.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,_s={oneWay:Ds.Z,oneToOne:xs.Z,oneToMany:Ls.Z,manyToOne:Is.Z,manyToMany:Ss.Z,manyWay:Bs.Z},kn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:i})=>{const r=(0,Ke.I0)(),{formatMessage:c}=(0,R.Z)(),{contentTypes:l,modifiedData:u}=(0,he.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],g=(e==="contentType"?I()(u,[e,"schema","kind"],""):e)==="collectionType"?m:y,P=o==="manyToOne",Z=I()(l,[i,"schema","displayName"],"unknown"),T=P?Z:a,x=P?a:Z,_=_n()(T,o==="manyToMany"?2:1),C=I()(l,[i,"schema","restrictRelationsTo"],null),S=_n()(x,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?n.createElement(v.k,{style:{flex:1}},n.createElement(Fs,null,n.createElement(v.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},n.createElement(ut.k,{tagName:"button"},n.createElement(v.k,{gap:3},g.map(F=>{const $=_s[F],re=C===null||C.includes(F);return n.createElement(Ns,{as:"button",isSelected:o===F,disabled:!re,key:F,onClick:()=>{re&&r({type:ce.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:i,value:F}})},padding:2,type:"button"},n.createElement($,{key:F}))}))))),n.createElement(Ws,{justifyContent:"center"},n.createElement(U.Z,null,xa()(_,{length:24}),"\xA0"),n.createElement(U.Z,{textColor:"primary600"},c({id:(0,d.Z)(`relation.${o}`)}),"\xA0"),n.createElement(U.Z,null,xa()(S,{length:24})))):null};kn.defaultProps={relationType:null,target:null},kn.propTypes={naturePickerType:s().string.isRequired,oneThatIsCreatingARelationWithAnother:s().string.isRequired,relationType:s().string,target:s().string};const Ks=kn,La=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:i,onChange:r})=>{const c=(0,$n.Z)(o.relation,o.targetAttribute);return n.createElement(v.k,{style:{position:"relative"}},n.createElement(Da,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:r,value:o?.name||""}),n.createElement(Ks,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:a,relationType:c,target:o.target}),n.createElement(Da,{disabled:["oneWay","manyWay"].includes(c),error:e?.targetAttribute||null,name:"targetAttribute",onChange:r,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};La.propTypes={formErrors:s().object.isRequired,mainBoxHeader:s().string.isRequired,modifiedData:s().object.isRequired,naturePickerType:s().string.isRequired,onChange:s().func.isRequired};const $s=La;var js=t(60914),zs=t(53768);const Vn=({error:e,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:c}=(0,R.Z)(),{allComponentsCategories:l}=(0,he.Z)(),[u,m]=(0,n.useState)(l),y=e?c({id:e,defaultMessage:e}):"",f=c(a),g=Z=>{i({target:{name:o,value:Z,type:"select-category"}})},P=Z=>{m(T=>[...T,Z]),g(Z)};return n.createElement(js.XU,{error:y,id:o,label:f,name:o,onChange:g,onCreateOption:P,value:r},u.map(Z=>n.createElement(zs.O,{key:Z,value:Z},Z)))};Vn.defaultProps={error:null,value:null},Vn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const ks=Vn,Gn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:i,isCreatingComponentWhileAddingAField:r,componentToCreate:c,name:l,onChange:u,targetUid:m,forTarget:y,value:f})=>{const{formatMessage:g}=(0,R.Z)(),P=e?g({id:e,defaultMessage:e}):"",Z=g(a),{componentsGroupedByCategory:T,componentsThatHaveOtherComponentInTheirAttributes:x}=(0,he.Z)(),_=["component","components"].includes(y);let C=Object.entries(T).reduce((S,F)=>{const[$,re]=F,Me=re.map(xe=>({uid:xe.uid,label:xe.schema.displayName,categoryName:$}));return[...S,...Me]},[]);return o&&(C=C.filter(S=>!x.includes(S.uid))),_&&(C=C.filter(S=>S.uid!==m)),r&&(C=[{uid:f,label:c.displayName,categoryName:c.category}]),n.createElement(tt.P,{disabled:r||!i,error:P,label:Z,id:l,name:l,onChange:S=>{u({target:{name:l,value:S,type:"select-category"}})},value:f||""},C.map(S=>n.createElement(nt.W,{key:S.uid,value:S.uid},`${S.categoryName} - ${S.label}`)))};Gn.defaultProps={componentToCreate:null,error:null},Gn.propTypes={componentToCreate:s().object,forTarget:s().string.isRequired,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isAddingAComponentToAnotherComponent:s().bool.isRequired,isCreating:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,targetUid:s().string.isRequired,value:s().string.isRequired};const Vs=Gn,Ia=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:c}=(0,R.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,he.Z)(),y=(ct(u.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(l).reduce((Z,T)=>{const x=l[T].filter(({uid:_})=>!y.includes(_));return x.length>0&&(Z[T]=x),Z},{}),g=Object.entries(f).reduce((Z,T)=>{const[x,_]=T,C={label:x,children:_.map(({uid:S,schema:{displayName:F}})=>({label:F,value:S}))};return Z.push(C),Z},[]),P=c({id:(0,d.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:r.length});return n.createElement(xt.Q,{id:"select1",label:c(a),customizeContent:()=>P,name:o,onChange:Z=>{i({target:{name:o,value:Z,type:"select-components"}})},options:g,value:r||[]})};Ia.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,dynamicZoneTarget:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().array.isRequired};const Gs=Ia,Hn=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:r,options:c,value:l})=>{const{formatMessage:u}=(0,R.Z)(),m=u(e),y=a?u({id:a,defaultMessage:a}):"",f=g=>{r({target:{name:i,value:g,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}})};return n.createElement(tt.P,{error:y,label:m,id:i,name:i,onChange:f,value:l||""},c.map(({metadatas:{intlLabel:g,disabled:P,hidden:Z},key:T,value:x})=>n.createElement(nt.W,{key:T,value:x,disabled:P,hidden:Z},u({id:g.id,defaultMessage:g.defaultMessage},g.values))))};Hn.defaultProps={error:void 0,value:""},Hn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const Hs=Hn,qn=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:r,options:c,value:l})=>{const{formatMessage:u}=(0,R.Z)(),m=u(e),y=a?u({id:a,defaultMessage:a}):"",f=g=>{r({target:{name:i,value:g,type:"select"}}),l&&(g==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})),["decimal","float","integer"].includes(g)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})))};return n.createElement(tt.P,{error:y,label:m,id:i,name:i,onChange:f,value:l||""},c.map(({metadatas:{intlLabel:g,disabled:P,hidden:Z},key:T,value:x})=>n.createElement(nt.W,{key:T,value:x,disabled:P,hidden:Z},u(g))))};qn.defaultProps={error:void 0,value:""},qn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const qs=qn,Xn=({description:e,error:a,intlLabel:o,modifiedData:i,name:r,onChange:c,value:l})=>{const{formatMessage:u}=(0,R.Z)(),m=(0,n.useRef)(c),y=i?.displayName||"";(0,n.useEffect)(()=>{y?m.current({target:{name:r,value:(0,Aa.Z)(y)}}):m.current({target:{name:r,value:""}})},[y,r]);const f=a?u({id:a,defaultMessage:a}):"",g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",P=u(o);return n.createElement(Et.o,{error:f,label:P,id:r,hint:g,name:r,onChange:c,value:l||""})};Xn.defaultProps={description:null,error:null,value:null},Xn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Xs=Xn,Sa=({form:e,formErrors:a,genericInputProps:o,modifiedData:i,onChange:r})=>{const{formatMessage:c}=(0,R.Z)();return e.map((l,u)=>l.items.length===0?null:n.createElement(b.x,{key:u},l.sectionTitle&&n.createElement(b.x,{paddingBottom:4},n.createElement(U.Z,{variant:"delta",as:"h3"},c(l.sectionTitle))),n.createElement(mt.r,{gap:4},l.items.map((m,y)=>{const f=`${u}.${y}`,g=I()(i,m.name,""),P=Object.keys(a).find(T=>T===m.name),Z=P?a[P].id:I()(a,[...m.name.split(".").filter(T=>T!=="componentToCreate"),"id"],null);return m.type==="pushRight"?n.createElement(we.P,{col:m.size||6,key:m.name||f},n.createElement("div",null)):n.createElement(we.P,{col:m.size||6,key:m.name||f},n.createElement(p.jm,{...m,...o,error:Z,onChange:r,value:g}))}))))};Sa.propTypes={form:s().arrayOf(s().object).isRequired,formErrors:s().object.isRequired,genericInputProps:s().object.isRequired,modifiedData:s().object.isRequired,onChange:s().func.isRequired};const Ba=Sa;var Ys=t(457);const Yn=({description:e,disabled:a,error:o,intlLabel:i,labelAction:r,name:c,onChange:l,placeholder:u,value:m})=>{const{formatMessage:y}=(0,R.Z)(),f=o?y({id:o,defaultMessage:o}):"",g=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",P=y(i),Z=u?y({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",T=Array.isArray(m)?m.join(`
`):"",x=_=>{const C=_.target.value.split(`
`);l({target:{name:c,value:C}})};return n.createElement(Ys.g,{disabled:a,error:f,label:P,labelAction:r,id:c,hint:g,name:c,onChange:x,placeholder:Z,value:T},T)};Yn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Yn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,labelAction:s().element,name:s().string.isRequired,onChange:s().func.isRequired,placeholder:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),value:s().oneOfType([s().array,s().string])};const Qs=Yn,_e={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Js={sections:[{sectionTitle:null,items:[_e]}]},Qn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]};var M=t(87561);const Ua=/^[A-Za-z][-_0-9A-Za-z]*$/,ws=e=>{const a={name:M.Z_().matches(Ua,p.I0.regex).test({name:"nameNotAllowed",message:p.I0.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(p.I0.required)};return M.Ry(a)},eo={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}};var at=t(9816);const to=(e,a,o)=>{const i={displayName:M.Z_().test({name:"nameAlreadyUsed",message:p.I0.unique,test(r){if(!r)return!1;const c=(0,at.N)(r,o);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(r){return r?!a.includes(r?.trim()?.toLowerCase()):!1}}).required(p.I0.required),category:M.Z_().matches(Ua,p.I0.regex).required(p.I0.required),icon:M.Z_()};return M.Ry(i)},st={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,d.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,d.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},D={default:{name:"default",type:"text",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Fa={advanced:{blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},component({repeatable:e},a){return a==="1"?{sections:st.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private,D.max,D.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...D.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.max,D.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...D.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.max,D.min,D.private]}]}},password(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},text(){return{sections:[{sectionTitle:null,items:[D.default,D.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...D.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}}},base:{component(e,a){if(a==="1"){const o=e.createComponent===!0?st.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Qn]},...o]}}return{sections:[{sectionTitle:null,items:[_e,{name:"component",type:"select-component",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[_e,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[_e]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[_e]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[_e,{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[_e]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[_e]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const i=o.filter(({type:r})=>["string","text"].includes(r)).map(({name:r})=>({key:r,value:r,metadatas:{intlLabel:{id:`${r}.no-override`,defaultMessage:r}}}));return{sections:[{sectionTitle:null,items:[{..._e,placeholder:{id:(0,d.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,d.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}};var no=t(44908),ao=t.n(no),so=t(46831),oo=t.n(so);const Jn=e=>oo()(e,{decamelize:!1,lowercase:!1,separator:"_"});var ro=t(14841),wn=t.n(ro);const Na=/^[A-Za-z][_0-9A-Za-z]*$/,Wa=e=>({name:"attributeNameAlreadyUsed",message:p.I0.unique,test(a){return a?!e.includes(a):!1}}),Zr=(e,a,o)=>{const i=e?.schema?.attributes??{};return Object.keys(i).filter(r=>a?r!==o:!0)},ea=e=>({name:"forbiddenAttributeName",message:(0,d.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),h={default:()=>M.Z_().nullable(),max:()=>M.Rx().integer().nullable(),min:()=>M.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,d.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>M.Rx().integer().positive((0,d.Z)("error.validation.positive")).nullable(),minLength:()=>M.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,d.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return M.Z_().test(Wa(e)).test(ea(a)).matches(Na,p.I0.regex).required(p.I0.required)},required:()=>M.O7(),type:()=>M.Z_().required(p.I0.required),unique:()=>M.O7().nullable()},ta=(e,a)=>({name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength(),regex:M.Z_().test({name:"isValidRegExpPattern",message:(0,d.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),na={name:"isMinSuperiorThanMax",message:(0,d.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN(wn()(e))?!0:wn()(a)>=wn()(e)}},aa={date(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},datetime(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},time(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},default(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},biginteger(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Z_().nullable().matches(/^-?\d*$/),unique:h.unique(),required:h.required(),max:M.Z_().nullable().matches(/^-?\d*$/,p.I0.regex),min:M.Z_().nullable().test(na).matches(/^-?\d*$/,p.I0.regex)};return M.Ry(o)},boolean(e,a){const o={name:h.name(e,a),default:M.O7().nullable(),required:h.required(),unique:h.unique()};return M.Ry(o)},component(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),max:h.max(),min:h.min(),component:M.Z_().required(p.I0.required)};return M.Ry(o)},decimal(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Rx(),required:h.required(),max:M.Rx(),min:M.Rx().test(na)};return M.Ry(o)},dynamiczone(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),max:h.max(),min:h.min()};return M.Ry(o)},email(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Z_().email().nullable(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:M.Z_().test(Wa(e)).test(ea(a)).matches(o,p.I0.regex).required(p.I0.required),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),enum:M.IX().of(M.Z_()).min(1,p.I0.min).test({name:"areEnumValuesUnique",message:(0,d.Z)("error.validation.enum-duplicate"),test(r){return!ao()(r.map(Jn).filter((l,u,m)=>m.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.Z)("error.validation.enum-empty-string"),test:r=>!r.map(Jn).some(c=>c==="")}).test({name:"doesMatchRegex",message:(0,d.Z)("error.validation.enum-regex"),test:r=>r.map(Jn).every(c=>o.test(c))}),enumName:M.Z_().nullable()};return M.Ry(i)},float(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),default:M.Rx(),max:M.Rx(),min:M.Rx().test(na)};return M.Ry(o)},integer(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Rx().integer(),unique:h.unique(),required:h.required(),max:h.max(),min:h.min()};return M.Ry(o)},json(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),unique:h.unique()};return M.Ry(o)},media(e,a){const o={name:h.name(e,a),type:h.type(),multiple:M.O7(),required:h.required(),allowedTypes:M.IX().of(M.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return M.Ry(o)},password(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},relation(e,a,o,{initialData:i,modifiedData:r}){const c={name:h.name(e,a),target:M.Z_().required(p.I0.required),relation:M.Z_().required(),type:M.Z_().required(),targetAttribute:M.Vo(()=>{const l=(0,$n.Z)(r.relation,r.targetAttribute);if(l==="oneWay"||l==="manyWay")return M.Z_().nullable();let u=M.Z_().test(ea(a)),y=[...o.map(({name:f})=>f),r.name].filter(f=>f!==i.targetAttribute);return u.matches(Na,p.I0.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!y.includes(f):!1}}).required(p.I0.required)})};return M.Ry(c)},richtext(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},blocks(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},string(e,a){const o=ta(e,a);return M.Ry(o)},text(e,a){const o=ta(e,a);return M.Ry(o)},uid(e,a){const o=ta(e,a);return M.Ry(o)}},io=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:i=[],collectionNames:r=[]})=>{const c={displayName:M.Z_().test({name:"nameAlreadyUsed",message:p.I0.unique,test(l){if(!l)return!1;const u=(0,at.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(p.I0.required),pluralName:M.Z_().test({name:"pluralNameAlreadyUsed",message:p.I0.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,d.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,d.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!r.includes(l?.trim()?.toLowerCase()):!1}}).required(p.I0.required),singularName:M.Z_().test({name:"singularNameAlreadyUsed",message:p.I0.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,d.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(p.I0.required),draftAndPublish:M.O7(),kind:M.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:M.O7()};return M.Ry(c)},_a={name:"displayName",type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},sa={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,d.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,d.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[_a,{description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[_a,{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},oa={advanced:{default(){return{sections:st.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Qn]},...st.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Qn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Ka=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},$a=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o),qe={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:i,schemaData:r,ctbFormsAPI:c}){const l=$a(e,r),u=aa[a](l,i.attributes);return c.makeCustomFieldValidator(u,o,l,i.attributes,r)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[_e]}];return e.options?.base&&Ka(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:i,...r}){const c=[{sectionTitle:null,items:[]}],l=i.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...r});if(e.options?.advanced&&Ka(e.options.advanced,c),l){const u={sectionTitle:{id:(0,d.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};c.push(u)}return{sections:c}}}},attribute:{schema(e,a,o,i,r,c){const l=e?.schema?.attributes??[],u=$a(l,r);try{let m=aa[a](u,o.attributes,i,r);return c.makeValidator(["attribute",a],m,u,o.attributes,i,r)}catch(m){return console.error("Error yup build schema",m),aa.default(u,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:i,...r}){try{const c=Fa.advanced[a](e,o).sections,l=i.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...r});return{sections:c.reduce((m,y)=>(y.sectionTitle===null?m.push(y):m.push({...y,items:[...y.items,...l]}),m),[])}}catch(c){return console.error(c),{sections:[]}}},base({data:e,type:a,step:o,attributes:i}){try{return Fa.base[a](e,o,i)}catch{return Js}}}},contentType:{schema(e,a,o,i,r,c){const l=Object.values(c).map(T=>T.schema.singularName),u=Object.values(c).map(T=>T?.schema?.pluralName??""),m=a?e.filter(T=>T!==o):e,y=a?l.filter(T=>{const{schema:x}=c[o];return x.singularName!==T}):l,f=a?u.filter(T=>{const{schema:x}=c[o];return x.pluralName!==T}):u,g=Object.values(c).map(T=>T?.schema?.collectionName??""),P=a?g.filter(T=>{const{schema:x}=c[o],_=x.pluralName,C=x.collectionName;return T!==_||T!==C}):g,Z=io({usedContentTypeNames:m,reservedModels:i.models,singularNames:y,pluralNames:f,collectionNames:P});return r.makeValidator(["contentType"],Z,m,i.models,y,f)},form:{base({actionType:e}){return e==="create"?sa.base.create():sa.base.edit()},advanced({extensions:e}){const a=sa.advanced.default().sections.map(i=>i.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,i=!1,r=null){const c=i?e.filter(l=>l!==r):e;return to(c,o.models,a)},form:{advanced(){return{sections:st.advanced()}},base(){return{sections:st.base()}}}},addComponentToDynamicZone:{form:{advanced(){return oa.advanced.default()},base({data:e}){return e?.createComponent??!1?oa.base.createComponent():oa.base.default()}}},editCategory:{schema(e,a){const o=e.filter(i=>i!==a.name).map(i=>i.toLowerCase());return ws(o)},form:{advanced:()=>({sections:[]}),base(){return eo.base}}}};var ja=t(20573),lo=t(87777);const co=()=>e=>e[`${se.Z}_formModal`]||lo.E,uo=()=>(0,ja.P1)(co(),e=>e),mo=(e,a)=>{const o=I()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:I()(e,["contentType","schema","attributes"],[]).filter(({relation:c,type:l,targetAttribute:u})=>{const m=(0,$n.Z)(c,u);return l==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},po=(e="",a,o)=>{const i=["text","email","richtext","password","blocks","number","enumeration","date","media","boolean","json","relation"],r=e==="contentType",c=o.includes(a),l=!r&&!c;return r?[[...i,"uid"],["component","dynamiczone"]]:l?[i,["component"]]:[i]},za=e=>e.reduce((a,o)=>{const i=o.items.reduce((r,c)=>(c.name&&r.push(c.name),r),[]);return[...a,...i]},[]),ka=(0,W.default)(nn.b)`
  button {
    display: none;
  }
`,go=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:i,actionType:r,attributeName:c,attributeType:l,customFieldUid:u,categoryName:m,dynamicZoneTarget:y,forTarget:f,modalType:g,isOpen:P,showBackLink:Z,kind:T,step:x,targetUid:_}=(0,De.Z)(),C=(0,p.mZ)().get(u),S=(0,n.useRef)(),F=(0,n.useMemo)(uo,[]),$=(0,Ke.I0)(),re=(0,p.lm)(),Me=(0,Ke.v9)(X=>F(X),Ke.wU),{push:xe}=(0,K.k6)(),{trackUsage:V}=(0,p.rS)(),{formatMessage:be}=(0,R.Z)(),{getPlugin:ie}=(0,p.j1)(),me=ie(se.Z).apis.forms,de=me.components.inputs,{addAttribute:$e,addCustomFieldAttribute:Te,addCreatedComponentToDynamicZone:oe,allComponentsCategories:A,changeDynamicZoneComponents:ia,contentTypes:ot,components:Tt,createSchema:rt,deleteCategory:la,deleteData:zt,editCategory:ca,editCustomFieldAttribute:da,submitData:ua,modifiedData:Re,nestedComponents:ma,setModifiedData:pa,sortedContentTypesList:ga,updateSchema:kt,reservedNames:Xe}=(0,he.Z)(),{componentToCreate:Ct,formErrors:je,initialData:ye,isCreatingComponentWhileAddingAField:Rt,modifiedData:E}=Me,L=f==="contentType"||f==="component"?[f]:[f,_];(0,n.useEffect)(()=>{if(P){const X=ga.filter(Dt);g==="editCategory"&&pa(),r==="edit"&&g==="attribute"&&f==="contentType"&&V("willEditFieldOfContentType");const Se=[...L,"schema","attributes"],Ne=ct(I()(Re,Se,[]),y)||null;if(g==="editCategory"&&r==="edit"&&$({type:ce._H,modalType:g,actionType:r,data:{name:m}}),g==="contentType"&&r==="create"&&$({type:ce._H,modalType:g,actionType:r,data:{draftAndPublish:!0},pluginOptions:{}}),g==="contentType"&&r==="edit"){const{displayName:J,draftAndPublish:Ee,kind:We,pluginOptions:Oe,pluralName:ir,reviewWorkflows:lr,singularName:cr}=I()(Re,[...L,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});$({type:ce._H,actionType:r,modalType:g,data:{displayName:J,draftAndPublish:Ee,kind:We,pluginOptions:Oe,pluralName:ir,reviewWorkflows:lr??!1,singularName:cr}})}if(g==="component"&&r==="edit"){const J=I()(Re,L,{});$({type:ce._H,actionType:r,modalType:g,data:{displayName:J.schema.displayName,category:J.category,icon:J.schema.icon}})}if(g==="addComponentToDynamicZone"&&r==="edit"){const J={...Ne,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};$({type:ce.VZ,attributeToEdit:J})}if(l){const Ee={...ct(I()(Re,Se,[]),c),name:c};l==="component"&&r==="edit"&&(Ee.repeatable||Zt()(Ee,"repeatable",!1)),$(g==="customField"?{type:ce.OY,customField:C,isEditing:r==="edit",modifiedDataToSetForEditing:Ee,forTarget:f}:{type:ce.S0,attributeType:l,nameToSetForRelation:I()(X,["0","title"],"error"),targetUid:I()(X,["0","uid"],"error"),isEditing:r==="edit",modifiedDataToSetForEditing:Ee,step:x,forTarget:f})}}else $({type:ce.c2})},[r,c,l,m,y,f,P,g]);const G=g==="contentType",fe=g==="component",Ze=g==="attribute",Ie=g==="customField",ze=l==="component"&&Ze,Je=r==="create",Ye=I()(E,"createComponent",!1)||Rt,it=x==="1",ns=g==="editCategory",as=g==="chooseAttribute",fa=(0,at.E)(E.displayName||""),ya=I()(Re,[...L,"schema","attributes"],null),Ho=async()=>{let X;const Se=Ye&&x==="1"?I()(E,"componentToCreate",{}):E;if(G)X=qe.contentType.schema(Object.keys(ot),r==="edit",I()(Re,[...L,"uid"],null),Xe,me,ot);else if(fe)X=qe.component.schema(Object.keys(Tt),E.category||"",Xe,r==="edit",I()(Re,[...L,"uid"],null),me);else if(Ie)X=qe.customField.schema({schemaAttributes:I()(Re,[...L,"schema","attributes"],[]),attributeType:C.type,reservedNames:Xe,schemaData:{modifiedData:E,initialData:ye},ctbFormsAPI:me,customFieldValidator:C.options?.validator});else if(ze&&Ye&&it)X=qe.component.schema(Object.keys(Tt),I()(E,"componentToCreate.category",""),Xe,me);else if(Ze&&!it){const Ne=l==="relation"?"relation":E.type;let J=[];if(Ne==="relation"){const Ee=I()(E,["target"],null);J=I()(ot,[Ee,"schema","attributes"],[]).filter(({name:Oe})=>r!=="edit"?!0:Oe!==ye.targetAttribute)}X=qe.attribute.schema(I()(Re,L,{}),Ne,Xe,J,{modifiedData:E,initialData:ye},me)}else if(ns)X=qe.editCategory.schema(A,ye,me);else if(it&&Ye)X=qe.component.schema(Object.keys(Tt),I()(E,"componentToCreate.category",""),Xe,me);else return;await X.validate(Se,{abortEarly:!1})},ss=(0,n.useCallback)(({target:{name:X,value:Se,type:Ne,...J}})=>{const Ee=["enumName","max","min","maxLength","minLength","regex","default"];let We;Ee.includes(X)&&Se===""?We=null:We=Se;const Oe=Object.assign({},je);X==="max"&&delete Oe.min,X==="maxLength"&&delete Oe.minLength,delete Oe[X],$({type:ce.Ey,errors:Oe}),$({type:ce.P0,keys:X.split("."),value:We,...J})},[$,je]),Fe=async(X,Se=Je)=>{X.preventDefault();try{await Ho(),Yo(Se);const Ne=f==="components"?_:fa;if(G)if(Je)rt({...E,kind:T},g,fa),xe({pathname:`/plugins/${se.Z}/content-types/${fa}`}),a({forTarget:f,targetUid:Ne});else{mo(Re,E)?(e(),ua(E)):re({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(g==="component")if(Je){const J=(0,at.N)(E.displayName,E.category),{category:Ee,...We}=E;rt(We,"component",J,Ee),xe({pathname:`/plugins/${se.Z}/component-categories/${Ee}/${J}`}),a({forTarget:f,targetUid:J})}else{kt(E,g,_),e();return}else if(ns){if(At()(ye.name)===At()(E.name)){e();return}ca(ye.name,E);return}else if(Ie){const J={attributeToSet:{...E,customField:u},forTarget:f,targetUid:_,initialAttribute:ye};r==="edit"?da(J):Te(J),Se?a({forTarget:f,targetUid:Ne}):e();return}else if(Ze&&!Ye){if(l==="dynamiczone"){$e(E,f,_,r==="edit",ye),Je?($({type:ce.I}),S.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:E.name})):e();return}if(!ze){$e(E,f,_,r==="edit",ye),Se?a({forTarget:f,targetUid:Ne}):e();return}if(it){i(),$({type:ce.yC,forTarget:f});return}$e(E,f,_,r==="edit",ye,!0),Se?a({forTarget:f,targetUid:_}):e()}else if(Ze&&Ye){if(it){V("willCreateComponentFromAttributesModal"),$({type:ce.oF,forTarget:f}),i();return}const{category:J,type:Ee,...We}=Ct,Oe=(0,at.N)(Ct.displayName,J);rt(We,Ee,Oe,J,Ye),$e(E,f,_,!1),$({type:ce.c2}),Se?a({forTarget:"components",targetUid:Oe}):e();return}else{if(it)if(Ye){const{category:J,type:Ee,...We}=E.componentToCreate,Oe=(0,at.N)(E.componentToCreate.displayName,J);rt(We,Ee,Oe,J,Ye),oe(y,[Oe]),a({forTarget:"components",targetUid:Oe})}else ia(y,E.components),e();else console.error("This case is not handled");return}$({type:ce.c2})}catch(Ne){const J=(0,p.CJ)(Ne);console.log({err:Ne,errors:J}),$({type:ce.Ey,errors:J})}},qo=()=>{window.confirm(be({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),$({type:ce.c2}))},os=()=>{Ue()(E,ye)?(e(),$({type:ce.c2})):qo()},Xo=X=>{if(X==="advanced"){if(G){V("didSelectContentTypeSettings");return}f==="contentType"&&V("didSelectContentTypeFieldSettings")}},Yo=X=>{g==="attribute"&&f==="contentType"&&l!=="dynamiczone"&&X&&V("willAddMoreFieldToContentType")},Qo=()=>!!(g==="editCategory"||g==="component"||rn()(E,"createComponent")),Jo=po(f,_,ma);if(!P||!g)return null;const rs=I()(qe,[g,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),wo=f==="components"||f==="component",is={customInputs:{"allowed-types-select":dn,"boolean-radio-group":Dn,"checkbox-with-number-field":Ln,"icon-picker":Rs,"content-type-radio-group":In,"radio-group":yt,relation:$s,"select-category":ks,"select-component":Vs,"select-components":Gs,"select-default-boolean":Pn,"select-number":qs,"select-date":Hs,"toggle-draft-publish":Sn,"text-plural":Os,"text-singular":Xs,"textarea-enum":Qs,...de},componentToCreate:Ct,dynamicZoneTarget:y,formErrors:je,isAddingAComponentToAnotherComponent:wo,isCreatingComponentWhileAddingAField:Rt,mainBoxHeader:I()(Re,[...L,"schema","displayName"],""),modifiedData:E,naturePickerType:f,isCreating:Je,targetUid:_,forTarget:f},ls=rs.advanced({data:E,type:l,step:x,actionType:r,attributes:ya,extensions:me,forTarget:f,contentTypeSchema:Re.contentType||{},customField:C}).sections,cs=rs.base({data:E,type:l,step:x,actionType:r,attributes:ya,extensions:me,forTarget:f,contentTypeSchema:Re.contentType||{},customField:C}).sections,er=za(cs),tr=za(ls),nr=Object.keys(je).some(X=>er.includes(X)),ar=Object.keys(je).some(X=>tr.includes(X)),sr=I()(ot,[_,"schema","kind"]),or=()=>r==="edit"&&ya.every(({name:X})=>X!==E?.name),rr=()=>{or()&&V("didEditFieldNameOnContentType")};return n.createElement(an.P,{onClose:os,labelledBy:"title"},n.createElement(ms,{actionType:r,attributeName:c,categoryName:m,contentTypeKind:T,dynamicZoneTarget:y,modalType:g,forTarget:f,targetUid:_,attributeType:l,customFieldUid:u,showBackLink:Z}),as&&n.createElement(On,{attributes:Jo,forTarget:f,kind:sr||"collectionType"}),!as&&n.createElement("form",{onSubmit:Fe},n.createElement(Ot.f,null,n.createElement(Pt.v,{label:"todo",id:"tabs",variant:"simple",ref:S,onTabChange:X=>{X===1&&Xo("advanced")}},n.createElement(v.k,{justifyContent:"space-between"},n.createElement(gs,{actionType:r,forTarget:f,kind:T,step:x,modalType:g,attributeType:l,attributeName:c,customField:C}),n.createElement(Ge.m,null,n.createElement(Ge.O,{hasError:nr},be({id:(0,d.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),n.createElement(Ge.O,{hasError:ar,disabled:Qo()},be({id:(0,d.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),n.createElement(lt.i,null),n.createElement(b.x,{paddingTop:6},n.createElement(He.n,null,n.createElement(He.x,null,n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:6},l==="blocks"&&n.createElement(ka,null,be({id:(0,d.Z)("form.feature.beta"),defaultMessage:"This feature is in Beta."})),n.createElement(Ba,{form:cs,formErrors:je,genericInputProps:is,modifiedData:E,onChange:ss}))),n.createElement(He.x,null,n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:6},l==="blocks"&&n.createElement(ka,null,be({id:(0,d.Z)("form.feature.beta"),defaultMessage:"This feature is in Beta."})),n.createElement(Ba,{form:ls,formErrors:je,genericInputProps:is,modifiedData:E,onChange:ss}))))))),n.createElement(sn.m,{endActions:n.createElement(Bn,{deleteCategory:la,deleteContentType:zt,deleteComponent:zt,categoryName:ye.name,isAttributeModal:g==="attribute",isCustomFieldModal:g==="customField",isComponentToDzModal:g==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:g==="component",isContentTypeModal:g==="contentType",isCreatingComponent:r==="create",isCreatingDz:r==="create",isCreatingComponentAttribute:E.createComponent||!1,isCreatingComponentInDz:E.createComponent||!1,isCreatingComponentWhileAddingAField:Rt,isCreatingContentType:r==="create",isEditingAttribute:r==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:g==="editCategory",isInFirstComponentStep:x==="1",onSubmitAddComponentAttribute:Fe,onSubmitAddComponentToDz:Fe,onSubmitCreateComponent:Fe,onSubmitCreateContentType:Fe,onSubmitCreateDz:Fe,onSubmitEditAttribute:Fe,onSubmitEditCategory:Fe,onSubmitEditComponent:Fe,onSubmitEditContentType:Fe,onSubmitEditCustomFieldAttribute:Fe,onSubmitEditDz:Fe,onClickFinish:rr}),startActions:n.createElement(le.z,{variant:"tertiary",onClick:os},be({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))};var ve=t(97699),fo=t(21957);const yo=()=>e=>e[`${se.Z}_dataManagerProvider`]||fo.E,Eo=()=>(0,ja.P1)(yo(),e=>e);var ho=t(68929),vo=t.n(ho),Mo=t(57557),Va=t.n(Mo),bo=t(89734),To=t.n(bo);const Co=(e,a)=>{const o=Object.keys(e).filter(i=>{const r=I()(e,i,{}),c=I()(a,i,{}),l=I()(r,["isTemporary"],!1),u=!Ue()(r,c);return l||u});return(0,Ve.Z)(o)},Ro=(e,a)=>{const o=Ha(I()(e,"schema.attributes",[]),a),i=I()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},Va()(e.schema,"attributes"),{attributes:o})},Ga=(e,a=!1)=>{const o=I()(e,"uid",null),i=Ha(I()(e,"schema.attributes",[]),o),r=a?{category:I()(e,"category","")}:{},c=Object.assign(r,Va()(e.schema,"attributes"),{attributes:i});return delete c.uid,delete c.isTemporary,delete c.visible,delete c.restrictRelationsTo,c},Ha=(e,a)=>e.reduce((o,{name:i,...r})=>{const c=r,l=c.target===a,u=c.type==="relation",m=I()(c,"targetAttribute",null);if(!l)if(u){const y=Object.assign({},c,{targetAttribute:qa(m)});o[i]=jt(y)}else o[i]=jt(c);if(l){const y=c.target,f=Object.assign({},c,{target:y,targetAttribute:qa(m)});o[i]=jt(f)}if(c.customField){const y={...c,type:"customField"};o[i]=jt(y)}return o},{}),qa=e=>e==="-"?null:e,jt=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),Zo=(e,a,o,i=!1)=>Co(e,a).map(l=>{const u=I()(e,l,{});return Ro(u,o,i)}),Oo=e=>To()(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${se.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>vo()(a.title)),Xa=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),Po=(e,a,o,i)=>{const r=a.reduce((u,m)=>{const y=I()(o,m,{});return u[m]=y,u},{});return{[i?"contentType":"component"]:e,components:r}},Ao=e=>Object.keys(e).reduce((a,o)=>{const i=e[o].schema;return a[o]={...e[o],schema:{...i,attributes:Do(i.attributes)}},a},{}),Do=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]),Ya=Ao;var xo=t(26223);const Lo=e=>{const a=Object.keys(e).reduce((o,i)=>{const r=I()(e,[i],{}),c=r.uid;return Io(r)&&o.push(c),o},[]);return(0,Ve.Z)(a)},Io=e=>I()(e,["schema","attributes"],[]).some(o=>{const{type:i}=o;return i==="component"}),So=e=>{const a=Object.keys(e).reduce((o,i)=>{const r=e?.[i]?.schema?.attributes??[],c=Bo(r);return[...o,...c]},[]);return(0,Ve.Z)(a)},Bo=e=>e.reduce((a,o)=>{const{type:i,component:r}=o;return i==="component"&&a.push(r),a},[]),Qa=So,Uo=(e,a)=>{const o=Object.keys(e).map(i=>I()(e,[i,...a],""));return(0,Ve.Z)(o)},Ja="did-not-kill-server",Fo="server is down";function bt(e,a){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Fo);if(!a)throw new Error(Ja);o(e)}).catch(i=>{setTimeout(()=>bt(e,i.message!==Ja).then(o),100)})})}const No=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0),ra=({children:e,components:a,contentTypes:o,isLoading:i,isLoadingForDataToBeSet:r,initialData:c,modifiedData:l,reservedNames:u})=>{const m=(0,Ke.I0)(),y=(0,p.lm)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:g}=(0,p.Vu)(),{setCurrentStep:P}=(0,p.c1)(),{getPlugin:Z}=(0,p.j1)(),{apis:T}=Z(se.Z),{autoReload:x}=(0,p.L7)(),{formatMessage:_}=(0,R.Z)(),{trackUsage:C}=(0,p.rS)(),{refetchPermissions:S}=(0,p.vn)(),{pathname:F}=(0,K.TH)(),{onCloseModal:$}=(0,De.Z)(),re=(0,K.$B)(`/plugins/${se.Z}/content-types/:uid`),Me=(0,K.$B)(`/plugins/${se.Z}/component-categories/:categoryUid/:componentUid`),xe=(0,p.kY)(),{put:V,post:be,del:ie}=xe,Le=(0,n.useRef)();Le.current=_;const me=x,de=re!==null,$e=de?"contentType":"component",Te=de?I()(re,"params.uid",null):I()(Me,"params.componentUid",null),oe=(0,n.useRef)(),A=de?"content-types":"components";oe.current=async()=>{try{const[{data:{data:E}},{data:{data:L}},{data:G}]=await Promise.all(["components","content-types","reserved-names"].map(Je=>xe.get(`/${se.Z}/${Je}`))),fe=Xa(E),Ze=Ya(fe),Ie=Xa(L),ze=Ya(Ie);m({type:ve.Id,components:Ze,contentTypes:ze,reservedNames:G})}catch(E){console.error({err:E}),y({type:"warning",message:{id:"notification.error"}})}},(0,n.useEffect)(()=>(oe.current(),()=>{m({type:ve.Zl})}),[]),(0,n.useEffect)(()=>{!i&&Te&&kt()},[i,F,Te]),(0,n.useEffect)(()=>{x||y({type:"info",message:{id:(0,d.Z)("notification.info.autoreaload-disable")}})},[x,y]);const ia=(E,L,G,fe=!1,Ze,Ie=!1)=>{const ze=fe?ve.JO:ve.gz;m({type:ze,attributeToSet:E,forTarget:L,targetUid:G,initialAttribute:Ze,shouldAddComponentToData:Ie})},ot=({attributeToSet:E,forTarget:L,targetUid:G,initialAttribute:fe})=>{m({type:ve.Ir,attributeToSet:E,forTarget:L,targetUid:G,initialAttribute:fe})},Tt=({attributeToSet:E,forTarget:L,targetUid:G,initialAttribute:fe})=>{m({type:ve.Ly,attributeToSet:E,forTarget:L,targetUid:G,initialAttribute:fe})},rt=(E,L)=>{m({type:ve.Uu,dynamicZoneTarget:E,componentsToAdd:L})},la=(E,L,G,fe,Ze=!1)=>{const Ie=L==="contentType"?ve.Sh:ve.VR;m({type:Ie,data:E,componentCategory:fe,schemaType:L,uid:G,shouldAddComponentToData:Ze})},zt=(E,L)=>{m({type:ve.o_,dynamicZoneTarget:E,newComponents:L})},ca=(E,L,G="")=>{const fe=E==="components"?ve.lw:ve.ai;E==="contentType"&&C("willDeleteFieldOfContentType"),m({type:fe,mainDataKey:E,attributeToRemoveName:L,componentUid:G})},da=async E=>{try{const L=`/${se.Z}/component-categories/${E}`,G=window.confirm(_({id:(0,d.Z)("popUpWarning.bodyMessage.category.delete")}));$(),G&&(f(),await ie(L),await bt(!0),await g(),await ye())}catch(L){console.error({err:L}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},ua=async()=>{try{const E=`/${se.Z}/${A}/${Te}`,L=I()(l,[$e,"isTemporary"],!1),G=window.confirm(_({id:(0,d.Z)(`popUpWarning.bodyMessage.${de?"contentType":"component"}.delete`)}));if($(),G){if(L){m({type:ve.Ap});return}f(),await ie(E),await bt(!0),await g(),await ye()}}catch(E){console.error({err:E}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},Re=async(E,L)=>{try{const G=`/${se.Z}/component-categories/${E}`;$(),f(),await V(G,L),await bt(!0),await g(),await ye()}catch(G){console.error({err:G}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},ma=()=>{const E=Object.assign({},a,l.components);if(!de){const G=I()(l,"component",{});Zt()(E,I()(G,["uid"],""),G)}const L=Lo(E);return(0,Ve.Z)(L)},pa=()=>{const E=Qa(a),L=Qa(l.components||{});return(0,Ve.Z)([...L,...E])},ga=(E,L)=>{m({type:ve.NG,dzName:E,componentToRemoveIndex:L})},kt=()=>{const E=de?o:a,L=I()(E,Te,{schema:{attributes:[]}}),G=(0,xo.Z)(L.schema.attributes,a),fe=Po(L,G,a,de),Ze=I()(L,"isTemporary",!1)&&Jt()(I()(L,"schema.attributes",[]))===0;m({type:ve.xx,schemaToSet:fe,hasJustCreatedSchema:Ze})},Xe=(0,n.useMemo)(()=>{const E=de?o:a;return Te==="create-content-type"?!1:!Object.keys(E).includes(Te)&&!i},[a,o,Te,de,i]),Ct=(0,n.useMemo)(()=>{const E=Object.keys(o).filter(L=>I()(o,[L,"schema","visible"],!0)).sort();return I()(E,"0","create-content-type")},[o]);if(Xe)return n.createElement(K.l_,{to:`/plugins/${se.Z}/content-types/${Ct}`});const je=async E=>{try{const L=I()(l,[$e,"isTemporary"],!1),G={components:Zo(l.components,a,Te,L)};if(de){const Ie=T.forms.mutateContentTypeSchema({...Ga(l.contentType),...E},c.contentType);if(!No(Ie)){y({type:"warning",message:{id:(0,d.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}G.contentType=Ie,C("willSaveContentType")}else G.component=Ga(l.component,!0),C("willSaveComponent");f();const fe=`/${se.Z}/${A}`,Ze=L?fe:`${fe}/${Te}`;if(L?await be(Ze,G):await V(Ze,G),await bt(!0),await g(),L&&(c.contentType?.schema.kind==="collectionType"||c.contentType?.schema.kind==="singleType")&&P("contentTypeBuilder.success"),de){C("didSaveContentType");const Ie=I()(G,["contentType","schema","name"],""),ze=I()(c,["contentType","schema","name"],"");!L&&Ie!==ze&&C("didEditNameOfContentType")}else C("didSaveComponent");await ye()}catch(L){de||C("didNotSaveComponent"),console.error({err:L.response}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},ye=async()=>{await S()},Rt=(E,L,G)=>{m({type:ve.bi,data:E,schemaType:L,uid:G})};return n.createElement(tn.Z.Provider,{value:{addAttribute:ia,addCustomFieldAttribute:ot,addCreatedComponentToDynamicZone:rt,allComponentsCategories:Uo(a,["category"]),changeDynamicZoneComponents:zt,components:a,componentsGroupedByCategory:Xt()(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:ma(),contentTypes:o,createSchema:la,deleteCategory:da,deleteData:ua,editCategory:Re,editCustomFieldAttribute:Tt,isInDevelopmentMode:me,initialData:c,isInContentTypeView:de,modifiedData:l,nestedComponents:pa(),removeAttribute:ca,removeComponentFromDynamicZone:ga,reservedNames:u,setModifiedData:kt,sortedContentTypesList:Oo(o),submitData:je,updateSchema:Rt}},r?n.createElement(p.dO,null):n.createElement(n.Fragment,null,e,me&&n.createElement(go,null)))};ra.defaultProps={components:{}},ra.propTypes={children:s().node.isRequired,components:s().object,contentTypes:s().object.isRequired,isLoading:s().bool.isRequired,isLoadingForDataToBeSet:s().bool.isRequired,initialData:s().object.isRequired,modifiedData:s().object.isRequired,reservedNames:s().object.isRequired};const Wo=Eo(),_o=(0,Ke.$j)(Wo,null),Ko=(0,en.compose)(_o)((0,n.memo)(ra));var $o=t(6356);const wa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},es=({children:e})=>{const[a,o]=(0,n.useState)(wa),{trackUsage:i}=(0,p.rS)(),r=({attributeType:C,customFieldUid:S})=>{o(F=>({...F,actionType:"create",modalType:"customField",attributeType:C,customFieldUid:S}))},c=({attributeType:C,step:S})=>{a.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:C}),o(F=>({...F,actionType:"create",modalType:"attribute",step:S,attributeType:C,showBackLink:!0}))},l=({dynamicZoneTarget:C,targetUid:S})=>{o(F=>({...F,dynamicZoneTarget:C,targetUid:S,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:C,targetUid:S})=>{o(F=>({...F,actionType:"create",forTarget:C,targetUid:S,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},m=C=>{o(S=>({...S,...C,isOpen:!0}))},y=C=>{o(S=>({...S,categoryName:C,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:C,targetUid:S,attributeName:F,attributeType:$,customFieldUid:re})=>{o(Me=>({...Me,modalType:"customField",customFieldUid:re,actionType:"edit",forTarget:C,targetUid:S,attributeName:F,attributeType:$,isOpen:!0}))},g=({forTarget:C,targetUid:S,attributeName:F,attributeType:$,step:re})=>{o(Me=>({...Me,modalType:"attribute",actionType:"edit",forTarget:C,targetUid:S,attributeName:F,attributeType:$,step:re,isOpen:!0}))},P=({modalType:C,forTarget:S,targetUid:F,kind:$})=>{o(re=>({...re,modalType:C,actionType:"edit",forTarget:S,targetUid:F,kind:$,isOpen:!0}))},Z=()=>{o(wa)},T=({forTarget:C,targetUid:S})=>{o(F=>({...F,forTarget:C,targetUid:S,modalType:"chooseAttribute"}))},x=()=>{o(C=>({...C,attributeType:"component",modalType:"attribute",step:"2"}))},_=({dynamicZoneTarget:C})=>{o(S=>({...S,dynamicZoneTarget:C,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return n.createElement($o.Z.Provider,{value:{...a,onClickSelectField:c,onClickSelectCustomField:r,onCloseModal:Z,onNavigateToChooseAttributeModal:T,onNavigateToAddCompoToDZModal:_,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:x,onOpenModalAddField:u,onOpenModalCreateSchema:m,onOpenModalEditCategory:y,onOpenModalEditField:g,onOpenModalEditCustomField:f,onOpenModalEditSchema:P,setFormModalNavigationState:o}},e)};es.propTypes={children:s().node.isRequired};const jo=es;var zo=t(5391);const ko=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,3500))),Vo=()=>{const{url:e}=(0,K.$B)(),{categoryUid:a}=(0,K.UO)();return n.createElement(n.Suspense,{fallback:n.createElement(p.dO,null)},n.createElement(K.rs,null,n.createElement(K.AW,{path:`${e}/:componentUid`},n.createElement(ko,{categoryId:a}))))},ts=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,3500))),Go=()=>{const{formatMessage:e}=(0,R.Z)(),a=e({id:`${se.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,p.c1)(),i=(0,n.useRef)(o);return(0,n.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),n.createElement(p.O4,{permissions:zo._.main},n.createElement(N.q,{title:a}),n.createElement(jo,null,n.createElement(Ko,null,n.createElement(z.A,{sideNav:n.createElement(Gt,null)},n.createElement(n.Suspense,{fallback:n.createElement(p.dO,null)},n.createElement(K.rs,null,n.createElement(K.AW,{path:`/plugins/${se.Z}/content-types/create-content-type`,component:ts}),n.createElement(K.AW,{path:`/plugins/${se.Z}/content-types/:uid`,component:ts}),n.createElement(K.AW,{path:`/plugins/${se.Z}/component-categories/:categoryUid`,component:Vo})))))))}},90635:(Q,Y,t)=>{"use strict";t.d(Y,{Z:()=>p});var n=t(72966);const p=N=>`${n.Z}.${N}`},89881:(Q,Y,t)=>{var n=t(47816),z=t(99291),p=z(n);Q.exports=p},23933:(Q,Y,t)=>{var n=t(44239),z=t(37005),p="[object RegExp]";function N(R){return z(R)&&n(R)==p}Q.exports=N},69199:(Q,Y,t)=>{var n=t(89881),z=t(98612);function p(N,R){var K=-1,b=z(N)?Array(N.length):[];return n(N,function(k,H,pe){b[++K]=R(k,H,pe)}),b}Q.exports=p},82689:(Q,Y,t)=>{var n=t(29932),z=t(97786),p=t(67206),N=t(69199),R=t(71131),K=t(7518),b=t(85022),k=t(6557),H=t(1469);function pe(q,B,j){B.length?B=n(B,function(W){return H(W)?function(w){return z(w,W.length===1?W[0]:W)}:W}):B=[k];var O=-1;B=n(B,K(p));var ee=N(q,function(W,w,v){var U=n(B,function(te){return te(W)});return{criteria:U,index:++O,value:W}});return R(ee,function(W,w){return b(W,w,j)})}Q.exports=pe},71131:Q=>{function Y(t,n){var z=t.length;for(t.sort(n);z--;)t[z]=t[z].value;return t}Q.exports=Y},26393:(Q,Y,t)=>{var n=t(33448);function z(p,N){if(p!==N){var R=p!==void 0,K=p===null,b=p===p,k=n(p),H=N!==void 0,pe=N===null,q=N===N,B=n(N);if(!pe&&!B&&!k&&p>N||k&&H&&q&&!pe&&!B||K&&H&&q||!R&&q||!b)return 1;if(!K&&!k&&!B&&p<N||B&&R&&b&&!K&&!k||pe&&R&&b||!H&&b||!q)return-1}return 0}Q.exports=z},85022:(Q,Y,t)=>{var n=t(26393);function z(p,N,R){for(var K=-1,b=p.criteria,k=N.criteria,H=b.length,pe=R.length;++K<H;){var q=n(b[K],k[K]);if(q){if(K>=pe)return q;var B=R[K];return q*(B=="desc"?-1:1)}}return p.index-N.index}Q.exports=z},99291:(Q,Y,t)=>{var n=t(98612);function z(p,N){return function(R,K){if(R==null)return R;if(!n(R))return p(R,K);for(var b=R.length,k=N?b:-1,H=Object(R);(N?k--:++k<b)&&K(H[k],k,H)!==!1;);return R}}Q.exports=z},96347:(Q,Y,t)=>{var n=t(23933),z=t(7518),p=t(31167),N=p&&p.isRegExp,R=N?z(N):n;Q.exports=R},89734:(Q,Y,t)=>{var n=t(21078),z=t(82689),p=t(5976),N=t(16612),R=p(function(K,b){if(K==null)return[];var k=b.length;return k>1&&N(K,b[0],b[1])?b=[]:k>2&&N(b[0],b[1],b[2])&&(b=[b[0]]),z(K,n(b,1),[])});Q.exports=R},39138:(Q,Y,t)=>{var n=t(80531),z=t(40180),p=t(62689),N=t(13218),R=t(96347),K=t(88016),b=t(83140),k=t(40554),H=t(79833),pe=30,q="...",B=/\w*$/;function j(O,ee){var W=pe,w=q;if(N(ee)){var v="separator"in ee?ee.separator:v;W="length"in ee?k(ee.length):W,w="omission"in ee?n(ee.omission):w}O=H(O);var U=O.length;if(p(O)){var te=b(O);U=te.length}if(W>=U)return O;var ne=W-K(w);if(ne<1)return w;var ae=te?z(te,0,ne).join(""):O.slice(0,ne);if(v===void 0)return ae+w;if(te&&(ne+=ae.length-ne),R(v)){if(O.slice(ne).search(v)){var ge,Pe=ae;for(v.global||(v=RegExp(v.source,H(B.exec(v))+"g")),v.lastIndex=0;ge=v.exec(Pe);)var ue=ge.index;ae=ae.slice(0,ue===void 0?ne:ue)}}else if(O.indexOf(n(v),ne)!=ne){var Ae=ae.lastIndexOf(v);Ae>-1&&(ae=ae.slice(0,Ae))}return ae+w}Q.exports=j},20573:(Q,Y,t)=>{"use strict";t.d(Y,{P1:()=>H});var n="NOT_FOUND";function z(q){var B;return{get:function(O){return B&&q(B.key,O)?B.value:n},put:function(O,ee){B={key:O,value:ee}},getEntries:function(){return B?[B]:[]},clear:function(){B=void 0}}}function p(q,B){var j=[];function O(v){var U=j.findIndex(function(ne){return B(v,ne.key)});if(U>-1){var te=j[U];return U>0&&(j.splice(U,1),j.unshift(te)),te.value}return n}function ee(v,U){O(v)===n&&(j.unshift({key:v,value:U}),j.length>q&&j.pop())}function W(){return j}function w(){j=[]}return{get:O,put:ee,getEntries:W,clear:w}}var N=function(B,j){return B===j};function R(q){return function(j,O){if(j===null||O===null||j.length!==O.length)return!1;for(var ee=j.length,W=0;W<ee;W++)if(!q(j[W],O[W]))return!1;return!0}}function K(q,B){var j=typeof B=="object"?B:{equalityCheck:B},O=j.equalityCheck,ee=O===void 0?N:O,W=j.maxSize,w=W===void 0?1:W,v=j.resultEqualityCheck,U=R(ee),te=w===1?z(U):p(w,U);function ne(){var ae=te.get(arguments);if(ae===n){if(ae=q.apply(null,arguments),v){var ge=te.getEntries(),Pe=ge.find(function(ue){return v(ue.value,ae)});Pe&&(ae=Pe.value)}te.put(arguments,ae)}return ae}return ne.clearCache=function(){return te.clear()},ne}function b(q){var B=Array.isArray(q[0])?q[0]:q;if(!B.every(function(O){return typeof O=="function"})){var j=B.map(function(O){return typeof O=="function"?"function "+(O.name||"unnamed")+"()":typeof O}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+j+"]")}return B}function k(q){for(var B=arguments.length,j=new Array(B>1?B-1:0),O=1;O<B;O++)j[O-1]=arguments[O];var ee=function(){for(var w=arguments.length,v=new Array(w),U=0;U<w;U++)v[U]=arguments[U];var te=0,ne,ae={memoizeOptions:void 0},ge=v.pop();if(typeof ge=="object"&&(ae=ge,ge=v.pop()),typeof ge!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof ge+"]");var Pe=ae,ue=Pe.memoizeOptions,Ae=ue===void 0?j:ue,Ce=Array.isArray(Ae)?Ae:[Ae],Be=b(v),d=q.apply(void 0,[function(){return te++,ge.apply(null,arguments)}].concat(Ce)),ke=q(function(){for(var he=[],De=Be.length,se=0;se<De;se++)he.push(Be[se].apply(null,arguments));return ne=d.apply(null,he),ne});return Object.assign(ke,{resultFunc:ge,memoizedResultFunc:d,dependencies:Be,lastResult:function(){return ne},recomputations:function(){return te},resetRecomputations:function(){return te=0}}),ke};return ee}var H=k(K),pe=function(B,j){if(j===void 0&&(j=H),typeof B!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof B));var O=Object.keys(B),ee=j(O.map(function(W){return B[W]}),function(){for(var W=arguments.length,w=new Array(W),v=0;v<W;v++)w[v]=arguments[v];return w.reduce(function(U,te,ne){return U[O[ne]]=te,U},{})});return ee}},13814:(Q,Y,t)=>{"use strict";t.d(Y,{Q:()=>N});var n=t(85893),z=t(1565),p=t(82832);const N=({options:K,...b})=>(0,n.jsx)(p.NU,{...b,children:K.map(k=>"children"in k?(0,n.jsx)(p.Ab,{label:k.label,values:k.children.map(H=>H.value.toString()),children:k.children.map(H=>(0,n.jsx)(R,{value:H.value,children:H.label},H.value))},k.label):(0,n.jsx)(p.ML,{value:k.value,children:k.label},k.value))}),R=(0,z.default)(p.ML)`
  padding-left: ${({theme:K})=>K.spaces[7]};
`}}]);
